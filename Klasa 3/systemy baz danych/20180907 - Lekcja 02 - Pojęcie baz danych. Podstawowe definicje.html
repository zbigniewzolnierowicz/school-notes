<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>20180905 - Lekcja 01 - lekcja organizacyjna</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h1 id="lekcja-1---lekcja-organizacyjna">Lekcja 1 - lekcja organizacyjna</h1>
<h2 id="wymagania">Wymagania</h2>
<ol type="1">
<li>Uczeń zobowiązany jest posiadać zeszyt przedmiotowy.</li>
<li>W zeszycie powinien być wpisany temat, data oraz własne notatki.</li>
<li>Uczeń zobowiązany jest do wykonywania ćwiczeń podczas zajęć.</li>
<li>Uczeń ma prawo do dwukrotnego w ciągu semestru zgłoszenia nieprzygotowania.
<ul>
<li>Nieprzygotowanie nie dotyczy zapowiedzianej kartkówki.</li>
</ul></li>
</ol>
<h3 id="formy-sprawdzania-wiedzy-i-umiejętności">Formy sprawdzania wiedzy i umiejętności</h3>
<ol type="1">
<li>Sprawdzian
<ul>
<li>Zapowiedziany z dwutygodniowym wyprzedzeniem.</li>
<li>Większa partia materiału.</li>
</ul></li>
<li>Kartkówka
<ul>
<li>Do 15 minut</li>
<li>Zapowiedziana lub niezapowiedziana</li>
</ul></li>
<li>Odpowiedź (możliwa w formie pisemnej)</li>
<li>Zadanie domowe
<ul>
<li>Aktywność</li>
<li>Praca na lekcji</li>
</ul></li>
</ol>
<h3 id="minimalna-planowana-liczba-ocen">Minimalna planowana liczba ocen</h3>
<p>Pierwszy semestr:</p>
<ul>
<li>2 sprawdziany</li>
<li>min. 3 kartkówki</li>
<li>min. 1 odpowiedź</li>
<li>brak minimum aktywności i zadań domowych</li>
</ul>
<p>Pierwszy semestr:</p>
<ul>
<li>2 sprawdziany</li>
<li>min. 4 kartkówki</li>
<li>min. 1 odpowiedź</li>
<li>brak minimum aktywności i zadań domowych</li>
</ul>
<p>Ocena klasyfikacyjna jest średnią ważoną ocen cząstkowych.</p>
<p>Ocena roczna uwzględnia oba semestry - średnia arytmetyczna ze średnich semestralnych.</p>
<p>Warunkiem uzyskania oceny pozytywnej jest zaliczenie wszystkich sprawdzianów na ocenę pozytywną.</p>
<p>Uczeń ma prawo do jednokrotnego poprawienia sprawdzianu w terminie uzgodnionym z nauczycielem nie przekraczającym 2 tygodni od dnia oddania pracy.</p>
<p>Jeżeli z przyczyn losowych uczeń nie pisał sprawdzianu, powinien go napisać w ciągu tygodnia od dnia powrotu w terminie wyznaczonym przez nauczyciela. W przeciwnym razie pisze sprawdzian na najbliższej lekcji po tym terminie. Taka sama zasada w przypadku kartkówek.</p>
<h2 id="działy">Działy</h2>
<ul>
<li>Wstęp do teorii baz danych - ok. 30 godzin</li>
<li>Strukturalny język zapytań - ok. 40 godzin</li>
<li>Administrowanie bazami danych - ok. 40 godzin</li>
</ul>
<h1 id="lekcja-2---pojęcie-baz-danych-podstawowe-definicje">Lekcja 2 - Pojęcie baz danych, podstawowe definicje</h1>
<p><strong>Baza danych</strong> <em>(ang. database)</em> to abstrakcyjne, informatyczne przedstawienie wybranego fragmentu rzeczywistości, zwangeo mini światem. Fragment ten określamy mianem <strong>obszaru analizy</strong> <em>(ang. universe of discourse)</em>.</p>
<p><strong>Baza danych</strong> jest to uporządkowany zbiór danych z pewnej dziedziny tematycznej, zorganizowany w sposób ułatwiający dostęp do danych i operowanie nimi wg. określonych kryteriów.</p>
<p>W przypadku szkoły obszar analizy może obejmować między innymi przedmioty oferowane uczniom i uczniów zaliczających te przedmioty - są to tzw. <strong>rzeczy istotne</strong> dla szkoły.</p>
<p>Rzeczy istotne nazywamy <strong>klasami</strong> lub <strong>encjami</strong> <em>(ang. entity)</em></p>
<p>Klasy mogą być powiązane, czyli którzy uczniowie jakie przedmioty zaliczają.</p>
<p>Klasy mogą mieć <strong>właściwości</strong> lub <strong>atrybuty</strong> - uczniowie mają nazwiska, imiona, itp.</p>
<p>Klasy, atrybuty, związki muszą mieć jakąś reprezentację w bazie danych, czyli innymi słowy baza musi być zaprojektowana.</p>
<h2 id="cechy-charakterystyczne-bazy-danych">Cechy charakterystyczne bazy danych</h2>
<p><strong>Trwałość danych</strong> - dane w bazie danych traktowane są jako <em>trwałe</em>, to znaczy, że mogą być przechowywane w pamięci masowej przez pewien czas.</p>
<p><strong>Współdzielenie danych</strong> - dane przechowywane w bazie danych mogą być używane przez wiele osób naraz.</p>
<p><strong>Niezależność danych</strong> - dane są niezależne od procesów, które używają tych danych.</p>
<p><strong>Integralność danych</strong> - baza danych ma w dokładny sposób odzwierciedlać obszar analizy (zgodność z rzeczywistością). jeśli modelowany fragment rzeczywistości ulega zmianie, baza danych również musi się zmienić.</p>
<p><strong>Bezpieczeństwo danych</strong> - polega głównie na wydzieleniu zakresu danych do których mają dostęp poszczególni użytkownicy (określanie praw dostępu).</p>
<p><strong>Integracja danych</strong> - baza danych powinna być zbiorem danych nie mającym niepotrzebnue powtarzających się lub zbędnych danych, czyli nie może być redundancji danych.</p>
<h2 id="część-intensjonalna-i-ekstensjonalna">Część intensjonalna i ekstensjonalna</h2>
<p>Baza danych składa się z dwóch części: intensjonalnej i ekstensjonalnej.</p>
<ul>
<li><strong>Część intensjonalna (schemat bazy danych)</strong> - to zbiór definicji opisujących strukturę w bazie danych</li>
<li><strong>Część ekstensjonalna (zawartość bazy danych)</strong> - to łączny zbiór danych w bazie danych.</li>
</ul>
<p>Tworzenie schematu bazy danych nazywamy projektowaniem bazy danych.</p>
<table>
<colgroup>
<col style="width: 66%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th>Część intensjonalna</th>
<th>Część ekstensjonalna</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Schemat: szkoła</td>
<td>Zawartość: szkoła</td>
</tr>
<tr class="even">
<td>Klasy: <em>przedmioty</em> - kursy prowadzone przez instytucję w semestrze; <em>uczniowie</em> - osoby zaliczające moduły</td>
<td>Przedmioty: Systemy baz danych, wstęp do programowania</td>
</tr>
<tr class="odd">
<td>Związki: uczniowie zaliczają przedmioty</td>
<td>Uczniowie: Jan Kowalski; Marcin Maj; Anna Nowak</td>
</tr>
<tr class="even">
<td>Atrybuty: przedmioty mają nazwy; Uczniowie mają nazwiska</td>
<td>Zaliczają: Jan Kowalski zalicza systemy baz danych</td>
</tr>
</tbody>
</table>
<h2 id="rodzaje-baz-danych">Rodzaje baz danych</h2>
<h3 id="operacyjna-baza-danych">Operacyjna baza danych</h3>
<p><strong>Operacyjne</strong> bazy danych - do przetwarzania transakcji internetowych <strong>(OLTP)</strong> w sytuacjach, kiedy istnieje potrzeba zbierania, modyfikacji i utrzymania danych każdego dnia.</p>
<p>Dane przechowywane w operacyjnej bazie danych są dynamiczne, co znaczy, że wciąż się zmieniają i zawsze odzwierciedlają aktualne informacje.</p>
<p>Organizacje takie jak sklepy, wytwórnie i wydawnictwa korzystają z operacyjnych baz danych, ponieważ ich dane ciągle się zmieniają.</p>
<h3 id="analityczna-baza-danych">Analityczna baza danych</h3>
<p><strong>Analityczne</strong> bazy danych są głównie wykorzystywane przy analitycznym przetwarzaniu online <strong>(OLAP)</strong> w sytuacjach, kiedy istnieje potrzeba przechowywania i śledzenia danych historycznych i zależnych od czasu.</p>
<p>Analityczną bazę danych wykorzystujemy, gdy potrzebujemy prześledzić trendy, przejrzeć dane statystyczne z długiego zakresu czasu oraz stworzyć taktyczne lub strategiczne projekcje biznesowe.</p>
<p>Ten typ bazy danych przechowue dane statyczne, co oznacza że dane te nie zmieniają się nigdy (lub bardzo rzadko).</p>
<h2 id="system-zarządzania-bazą-danych">System Zarządzania Bazą Danych</h2>
<p><strong>S</strong>ystem <strong>Z</strong>arządzania <strong>B</strong>azą <strong>D</strong>anych SZBD <em>(ang. DBMS - <strong>D</strong>ata<strong>b</strong>ase <strong>M</strong>anagement <strong>S</strong>ystem)</em> jest to oprogramowanie, które pozwala użytkownikowi definiować, tworzyć, utrzymywać bazę danych jak również kontrolować dostęp do bazy danych.</p>
<p>SZBD to oprogramowanie, które kontaktuje się z aplikacją użytkownika i z bazą danych. To właśnie w specjalnym katalogu SZBD przechowywana jest struktura plików z danymi.</p>
<h2 id="system-baz-danych">System baz danych</h2>
<p>System zarządzania bazą danych i bazę danych będziemy nazywać <strong>systemem baz danych</strong>.</p>
<h2 id="użytkownicy-baz-danych">Użytkownicy baz danych</h2>
<ul>
<li>użytkownicy końcowi</li>
<li>programiści aplikacji</li>
<li>programiści baz danych</li>
<li>projektanci baz danych</li>
<li>analitycy systemowi</li>
<li>administratorzy baz danych</li>
</ul>
<h2 id="ćwiczenie">Ćwiczenie</h2>
<p>Zaprojektuj schemat bazy danych meczu piłkarskiego</p>
<h3 id="intensjonalna">Intensjonalna</h3>
<p>Encje:</p>
<ul>
<li>drużyny</li>
<li>piłkarze</li>
<li>kibice</li>
</ul>
<p>Atrybuty:</p>
<ul>
<li>drużyny mają nazwę, sponsora i kod</li>
<li>piłkarze mają nazwisko, imię i pensję</li>
<li>kibice mają miejsce, imię i nazwisko</li>
</ul>
<p>TODO: Dodać po 2 atrybuty</p>
<p>Związki:</p>
<ul>
<li>kibice kibicują wybranej drużynie</li>
<li>piłkarze grają dla drużyny</li>
</ul>
<!-- ### Ekstensjonalna

Drużyny:

* Generic United
* FC Noname

Piłkarze:

* Piłkokopek
* Kopiec
* Nowak
* Kowalski

Kibice:

* Miejsce 928
* Miejsce 917
* Miejsce 666
* Miejsce 777

Związki:

* Kibic - drużyna
    * Miejsce 666 i 928 kibicują Generic United
    * Miejsce 917 i 777 kibicują FC Noname
* Piłkarz - drużyna
    * Piłkokopek i Nowak grają dla Generic United
    * Kowalski i Kopiec grają dla FC Noname. -->
<h1 id="lekcja-4---system-bazy-danych">Lekcja 4 - System bazy danych</h1>
<h2 id="główne-elementy">Główne elementy</h2>
<ul>
<li>dane</li>
<li>sprzęt</li>
<li>oprogramowanie</li>
<li>użytkownicy</li>
</ul>
<h2 id="architektura-systemu-baz-danych">Architektura systemu baz danych</h2>
<p>Interakcja programu użytkownika (aplikacji) z bazą danych odbywa się za pomocą języka SQL. Użytkownik komunikuje się z bazą danych za pomocą aplikacji, a aplikacja komunikuje się z bazą danych za pomocą poleceń SQL.</p>
<p>Stosujemy dwa sposoby komunikacji z bazą danych:</p>
<h3 id="architektura-klient-serwer">Architektura klient-serwer</h3>
<p>W architekturze klient-serwer serwer pełni rolę DBMS, natomiast klientami mogą być aplikacje poziomu zewnętrznego.</p>
<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th>Klient</th>
<th>Serwer</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Obsługuje interfejs użytkownika</td>
<td>Akceptuje i przetwarza żądania do bazy danych od klientów</td>
</tr>
<tr class="even">
<td>Akceptuje wprowadzane dane i spawdza ich poprawność składniową</td>
<td>Sprawdza uprawnienia</td>
</tr>
<tr class="odd">
<td>Obsługuje sterowanie w aplikacji</td>
<td>Zapewnia nienaruszalność więzów integralności</td>
</tr>
<tr class="even">
<td>Tworzy żądanie do bazy danych i przesyła je do serwera</td>
<td>Realizuje przetwarzanie zapytań/aktualizacji i przekazuje odpowiedzi klientom</td>
</tr>
<tr class="odd">
<td>Przekazuje odpowiedź z powrotem do użytkownika</td>
<td>Konserwuje katalog systemowy</td>
</tr>
<tr class="even">
<td></td>
<td>Obsługuje współbieżny dostęp</td>
</tr>
<tr class="odd">
<td></td>
<td>Realizuje odzyskiwanie danych po awarii</td>
</tr>
</tbody>
</table>
<h4 id="architektura-klient-serwer-rozproszona">Architektura klient-serwer rozproszona</h4>
<p>W architekturze klient-serwer rozproszonej każda maszyna może przechowywać dane i być serwerem dla jednych klientów, natomiast klientem dla innych. Każda maszyna wspiera cały SZBD.</p>
<h3 id="architektura-3-warstwowa">Architektura 3-warstwowa</h3>
<p>Każdy użytkownik nie ma dostępu bezpośrednio do aplikacji, ale przez stronę internetową ma dostęp do serwera aplikacji, ten z kolei do SZBD, a ten do bazy danych. # Lekcja 5 - System zarządzania bazą danych</p>
<p><strong>System Zarządzania Bazą Danych</strong> <em>(ang. <strong>D</strong>ata<strong>b</strong>ase <strong>M</strong>anagement <strong>S</strong>ystem)</em> pełni funkcję pośrednika pomiędzy zapisanymi danymi a użytkownikiem bądź programem chcącym z tych danych skorzystać.</p>
<p>System zarządzania bazą danych musi posiadać mechanizmy, które pozwalają administrować zbiorami danych umieszczonymi w bazie, zapewniają bezpieczeństwo i integralność danych, umożliwiają dostęp do danych za pomocą SQL, zapewniają wielodostępowość oraz pozwalają na autoryzację dostępu do danych.</p>
<h2 id="trójwarstwowa-architektura-szbd">Trójwarstwowa architektura SZBD</h2>
<p>System zarządzania bazą danych jest pośrednikiem (buforem) pomiędzy programami użytkowymi, użytkownikiem końcowym i bazą danych.</p>
<p>W 1976 ANSI-SPARC zaproponował trzypoziomową architekturę SZBD:</p>
<ul>
<li><strong>poziom zewnętrzny (użytkownika)</strong> - opisuje jak użytkownicy widzą dane,</li>
<li><strong>poziom koncepcyjny (pojęciowy)</strong> - opisuje widok wszystkich danych w bazie. Poziom ten opisuje logiczny widok baz danych, bez szczegółów dotyczących realizacji,</li>
<li><strong>poziom wewnętrzny (fizyczny)</strong> - opisuje sposób przechowywania danych oraz metody dostępu do nich.</li>
</ul>
<p>Pomiędzy warstwami istnieją dwa poziomy odwzorowania przekładające się na dwa poziomy niezależności danych:</p>
<ul>
<li><strong>logiczna niezależność danych</strong> - oznacza niewrażliwość schematów zewnętrznych na zmiany w schemacie koncepcyjnym,</li>
<li><strong>fizyczna niezależność danych</strong> - oznacza niewrażliwośc schematu koncepcyjnego na zmiany w schemacie fizycznym</li>
</ul>
<h2 id="funkcje-szbd">Funkcje SZBD</h2>
<ul>
<li>Funkcje CRUD <em>(Create, Read, Update, Delete)</em></li>
<li>Obsługa słownika danych - przechowywanie metadanych (danych o danych)</li>
<li>Zarządzanie transakcjami</li>
<li>Sterowanie współbieżnością</li>
<li>Odtwarzanie po awarii</li>
<li>Kontrola uprawnień użytkownika</li>
<li>Komunikacja danych (wymiana danych w systemie technologii informacyjnej)</li>
<li>Wymuszanie więzów integralności</li>
<li>Udostępnianie narzędzi do administrowania bazą danych (do importowania, eksportowania, monitorowania operacji, monitorowania wydajności)</li>
</ul>
<h2 id="zadania-szbd---podane-przez-codda-w-roku-1982">Zadania SZBD - podane przez Codd’a w roku 1982</h2>
<h2 id="zadanie-domowe-5-przykładów-szbd">Zadanie domowe: 5 przykładów SZBD</h2>
<ul>
<li><strong>Microsoft SQL Server</strong> - napisany przez Microsoft, pierwsza wersja to SQL Server 1.0, napisana dla systemu operacyjnego IBM OS/2 w 1989. Obecnie, najnowszą wersją jest Microsoft SQL Server 2017, wydane 2 października 1989.</li>
<li><strong>MySQL</strong> - system zarządzania bazami danych rozwijany przez szwedzką firmę MySQL AB, która w 16 stycznia 2008 została wykupiona przez Sun Microsystems, a ta 27 stycznia 2010 roku przez Oracle. Wydawany albo na licencji komercyjnej albo GNU GPL. Pierwsze wydanie zostało wypuszczone 23 maja 1995, najnowsza stabilna wersja to wersja 8.0.11, wydana 19 kwietnia 2018 roku.</li>
<li><strong>MariaDB</strong> – system zarządzania bazami danych stworzona przez grupę (głównie) byłych pracowników MySQL AB, pod przewodnictwem Michaela Wideniusa, współtwórcy MySQL. Pierwsze wydanie nastąpiło 22 stycznia 2009, a obecna najnowsza wersja stabilna to 10.3.9 wydana 15 sierpnia 2018 roku.</li>
<li><strong>MongoDB</strong> - system zarządzania bazą danych wydawany przez MongoDB Inc. pod licencją GNU AGPL. Pierwsze wydanie nastąpiło w roku 2009, a aktualna wersja stabilna to 3.4.10, wydana 31 października 2017 roku.</li>
<li><strong>PostgreSQL</strong> - jeden z najpopularniejszych systemów zarządzania bazami danych, na początku opracowany przez Uniwersytet Kalifornijski w Berkley, obecnie przez PostgreSQL Global Development Group. Pierwsze wydanie miało miejsce 1 maja 1995, a aktualna wersja stabilna to wersja 10.5 wydana 9 sierpnia 2018 roku.</li>
</ul>
<h1 id="lekcja-6---integralność-danych">Lekcja 6 - Integralność danych</h1>
<p>Integralność bazy danych to odpowiednie mechanizmy zabezpiezające przed skutkami:</p>
<ul>
<li>przypadkowych błędów logicznych</li>
<li>konfliktów we współbieżym dostępie do danych</li>
<li>awarii oprogramowania i sprzętu komputerowego</li>
</ul>
<p>System integralny to taki, który <strong>dostarcza nam wiarygodne dane</strong> i jest zabezpieczony przed nieautoryzowaną modyfikacją informacji.</p>
<p>Systemy baz danych <strong>powinny zapewniać</strong> możliwość sprawdzania i ewentualnej korekty wprowadzanych danych oraz powinny zawierać odpowiednie mechanizmy zapewniające prawidłowe przetwarzanie danych.</p>
<p>Proces ochrony integralności obejmuje:</p>
<ul>
<li>kontrolę danych wejściowych oraz synchronizację dostępu do danych,</li>
<li>poprawianie czyli korektę danych, cofanie i odtwarzanie stanu bazy,</li>
<li>archiwizację poprzez tworzenie kopii bazy oraz zapisów działania systemu,</li>
<li>testowanie czyli sprawdzanie poprawności zawartości bazy</li>
</ul>
<h2 id="integralność-danych">Integralność danych</h2>
<p><strong>Integralność danych</strong> oznacza, że baza danych stanowi odzwierciedlenie rzeczywistości. Integralność danych określamy również mianem <strong>spójności danych</strong>. Spójność danych związana jest z ich dokładnością - dane dokładnie odzwierciedlają modelowaną rzeczywistość. Dane muszą być poprawne i zgodne ze schematem bazy danych.</p>
<p><strong><em>Integralność</em></strong> to zapewnienie <strong>kompletności, poprawności i wiarygodności</strong> danych zgromadzonych w bazie.</p>
<p>Pojęcie integralności obejmuje:</p>
<ul>
<li><strong>integralność statyczną</strong>
<ul>
<li>Źródłem naruszenia <strong>integralności statycznej są błędy logiczne</strong> w danych oraz brak poprawnie skonstruowanego schematu bazy danych.</li>
</ul></li>
<li><strong>integralność transakcyjną</strong>
<ul>
<li>Zagrożeniem <strong>integralności transakcyjnej są awarie oprogramowania i sprzętu oraz współbieżny dostęp do danych</strong>.</li>
</ul></li>
</ul>
<h2 id="integralność-statyczna">Integralność statyczna</h2>
<p>Integralność statyczna dotyczy poprawnie zaprojektowanego schematu bazy danych jak również spełnienia ograniczeń nałożonych na wartości atrybutów opisujących obiekty w bazie.</p>
<p>Istnieją <strong>cztery typy integralności danych</strong> konieczne do wdrożenia w trakcie procesu projektowania bazy danych. Trzy typu integralności danych opierają się na różnych aspektach struktury bazy danych. Typ czwarty opiera się na sposobie spojrzenia na dane i ich wykorzystania w ortanizacji.</p>
<h3 id="integralność-semantyczna">Integralność semantyczna</h3>
<p><strong>Integralność semantyczna</strong> <em>(inaczej zwana integralnością na poziomie pola czy też integralnością domeny)</em> zapewnia odpowiednią strukturę każdego pola, odpowiednią ważność wartości występujących w każdym polu, ich spójność i dokładność, a także to, że pola tego samego typu są spójnie zdefiniowane w całej bazie danych.</p>
<p><strong>Jeżeli wartości danych spełniają wcześniej zdefiniowane i nałożone ograniczenia wówczas mówimy, że zachowana jest integralność semantyczna.</strong></p>
<p>Zapewnienie integralności semantycznej ma na celu zabezpieczenie danych przed celową lub przypadkową błędną modyfikacją danych, a więc odrzucenie wszelkich akcji powodujących niespójność bazy lub uruchomienie akcji, które przywracają poprawność i spójność bazy.</p>
<p>Integralność można wymusić w sposób <strong>deklaratywny poprzez więzy integralności</strong> oraz w sposób <strong>proceduralny poprzez tzw. wyzwalacze</strong> <em>(ang. triggers)</em>.</p>
<p><strong>Więzy integralności są to pewne warunki, które muszą być spełnione</strong> poprzez określony podzbiór danych w bazie. Warunki te muszą pozostać prawdziwe przy każdej operacji modyfikacji w bazie danych. Każda operacja naruszająca te więzy musi zostać anulowana. Typowy przykład narzuconych ograniczeń: wartości atrybutów w danej tabeli muszą pochodzić z określonej dziedziny.</p>
<h3 id="integralność-encji">Integralność encji</h3>
<p><strong>Integralnością encji, czyli integralność na poziomie tabeli</strong> zapewnia brak duplikowanych wierszy (krotek) oraz to, że pole (pola) identyfikujące każdą krotkę w tabeli jest unikatowe i nigdy nie zawiera wartości <code>Null</code>.</p>
<p>Integralność encji zapewnia się na etapie definiowania schematu bazy danych przez zdefiniowanie klucza głównego.</p>
<h3 id="integralność-referencyjna">Integralność referencyjna</h3>
<p><strong>W systemie bazy danych tablice powiązane są między sobą kluczami.</strong> Powiązania te realizowane są przez <strong>klucze główne <em>(ang. primary key)</em></strong> i tzw. <strong>klucze obce <em>(ang. foreign key)</em></strong></p>
<p>Powiązania między kluczami encji pociągają za sobą konieczność określania reguł postępowania w wypadku wykonywania operacji na tabelach nadrzędnych w stosunku do innych tabel.</p>
<p>To właśnie <strong>integralność referencyjna określa stany w jakich może znajdować się wartość klucza obcego w danej tabeli</strong>. Wartość klucza obcego w danej tabeli musi być albo równa wartości klucza głównego w tabeli z nią powiązanej lub ewentualnie przyjąć wartość <code>Null</code>.</p>
<h3 id="integralność-biznesowa">Integralność biznesowa</h3>
<h2 id="podział-na-więzy-integralności-statycznej-i-dynamicznej">Podział na więzy integralności statycznej i dynamicznej</h2>
<p>Więzy integralności dzielimy na statyczne i dynamiczne. Więzy <strong>statyczne</strong> muszą być spełnione w bieżącym i następnym stanie bazy.</p>
<p>Więzy <strong>dynamiczne</strong>, czy inaczej <strong>temporalne</strong>, określają poprawność danych w odniesieniu do historii stanów przechowywanych w bazie.</p>
<p>Dynamiczne więzy integralności to więzy, które w przeciwieństwie do statycznych więzów integralności obejmujących pojedynczy stan bazy, obejmują sekwencję stanów bazy danych.</p>
<h2 id="model-temporalny">Model temporalny</h2>
<p><strong>Model temporalny to model uwzględniający czas rejestracji danych oraz rzeczywisty czas zajścia zdarzeń.</strong></p>
<p>Temporalne więzy integralności określają poprawność danych zarówno dla bieżącego stanu bazy danych jaki i stanów poprzednich i przyszłych. Ogólnie są one przydatne wszędzie tam, gdzie sa istotne zależności czasowe między danymi. Np. można zadać taki warunek:</p>
<blockquote>
<p>Pensja pracownika nie może wzrosnąć o więcej niż 10% w ciągu 2 kolejnych posiedzeń zarządu.</p>
</blockquote>
<p>W bazach statycznych możliwe jest tylko sprawdzenie warunku, czy np. pensja pracownika nie może wzrosnąć jednorazowo o więcej niż 10%. # Lekcja 7 - Model relacyjny - charakterystyka elementów</p>
<h2 id="zawody">Zawody</h2>
<p>Chcemy zbierać informacje na temat wyników uzyskanych przez uczniów wybranej szkoły w międzyszkolnych zawodach lekkoatletycznych:</p>
<ul>
<li>Imię i nazwisko zawodnika</li>
<li>Numer startowy</li>
<li>Wyniki
<ul>
<li>bieg</li>
<li>skok w dal</li>
<li>rzut oszczepem</li>
</ul></li>
<li>Nazwisko opiekuna</li>
<li>Kategoria wiekowa</li>
</ul>
<h2 id="struktura-danych-na-przykładzie-tabeli-zawody">Struktura danych na przykładzie tabeli Zawody</h2>
<table>
<thead>
<tr class="header">
<th>Numer startowy</th>
<th>Imię</th>
<th>Nazwisko</th>
<th style="text-align: center;">Kategoria</th>
<th style="text-align: center;">Opiekun</th>
<th style="text-align: center;">Bieg</th>
<th style="text-align: center;">Skok</th>
<th style="text-align: center;">Rzut</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Jan</td>
<td>Kowalski</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">11.4121</td>
<td style="text-align: center;">6.2331</td>
<td style="text-align: center;">32.12</td>
</tr>
<tr class="even">
<td>2</td>
<td>Piotr</td>
<td>Kola</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">3</td>
<td style="text-align: center;">11.39</td>
<td style="text-align: center;">5.92</td>
<td style="text-align: center;">37.00</td>
</tr>
</tbody>
</table>
<h2 id="model-relacyjny---podstawowe-pojęcia">Model relacyjny - podstawowe pojęcia</h2>
<p>Każda z relacji ma <em>atrybuty</em> (kolumny) opatrzone nazwami. Atrybuty te mają zdefiniowane <em>dziedziny</em>, czyli zbiór dopuszczalnych wartości, np. w atrybucie płeć relacji personel mogą wystąpić tylko wartości M lub K. _Pojęcie dziedziny jest bardzo istotne, gdyż pomaga użytkownikowi zdefiniować, niezależnie od relacji, znaczenie atrybutu.</p>
<h3 id="schemat-tabeli">Schemat tabeli</h3>
<p>Nazwa tabeli wraz z listą nazw kolumn (atrybutów) jest <strong>schematem tabel</strong> <em>(ang. table schema)</em>.</p>
<p>Przykładowy opis schematu:</p>
<blockquote>
<p><strong>Zawody</strong> <em>(<strong>numer_startowy</strong>, imie, nazwisko, kategoria, klasa, opiekun, bieg, rzut, skok)</em></p>
</blockquote>
<ul>
<li>Konwencja nazewnictwa
<ul>
<li>Tabele z dużej litery</li>
<li>atrybuty z małej litery</li>
<li>Nazwy tabel są rzeczownikami w liczbie mnogiej</li>
<li>W zapisie tabel nie stosujemy polskich liter diaktrycznych</li>
</ul></li>
</ul>
<p>Dla poszczególnych atrybutów łatwo możemy określić typy danych.</p>
<ul>
<li>numer_startowy - integer</li>
<li>imie - char</li>
<li>nazwisko - char</li>
</ul>
<blockquote>
<p><strong>Zawody</strong> <em>(<strong>numer_startowy</strong>: integer, imie: char, nazwisko: char, kategoria: integer, klasa: integer, opiekun: integer, bieg: time, rzut: float, skok: float)</em></p>
</blockquote>
<h2 id="schemat-tabeli-uczniowie-klasy-3d">Schemat tabeli “Uczniowie klasy 3D”</h2>
<p><strong>Nazwa tabeli</strong>: “Uczniowie klasy 3D”</p>
<blockquote>
<p><strong>Uczniowie</strong> <em>(<strong>numer_z_dziennika</strong>, imie: string, nazwisko: string, plec: char, grupa_ang: int, grupa_jez: string, religia: boolean, etyka: boolean, srednia: float, data_urodzenia: date, miejsce_urodzenia: string, pesel: int)</em></p>
</blockquote>
<table>
<colgroup>
<col style="width: 10%" />
<col style="width: 4%" />
<col style="width: 7%" />
<col style="width: 3%" />
<col style="width: 15%" />
<col style="width: 8%" />
<col style="width: 13%" />
<col style="width: 12%" />
<col style="width: 8%" />
<col style="width: 10%" />
<col style="width: 6%" />
</colgroup>
<thead>
<tr class="header">
<th>Numer z dziennika</th>
<th>Imię</th>
<th>Nazwisko</th>
<th style="text-align: center;">Płeć</th>
<th style="text-align: center;">Grupa języka angielskiego</th>
<th>Grupa językowa</th>
<th>Czy chodzi na religię?</th>
<th>Czy chodzi na etykę?</th>
<th>Data urodzenia</th>
<th>Miejsce urodzenia</th>
<th>PESEL</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>30</td>
<td>Zbigniew</td>
<td>Żołnierowicz</td>
<td style="text-align: center;">M</td>
<td style="text-align: center;">17</td>
<td>Hiszpański</td>
<td>Nie</td>
<td>Tak</td>
<td>03-11-2000</td>
<td>Białogard</td>
<td>00310*****</td>
</tr>
</tbody>
</table>
<h2 id="schemat-tabeli-komisu">Schemat tabeli komisu</h2>
<blockquote>
<p><strong>Komis</strong> <em>(<strong>tablica_rejestracyjna</strong>: string, przebieg: float, marka: string, model: string, data_produkcji: date, pojemosc_zbiornika: float, czy_uzywane: boolean, moc: int, kolor: string, typ_nadwozia: string, czy_bezwypadkowy: boolean, pierwsza_tablica_rejestracyjna: string)</em></p>
</blockquote>
<h2 id="schemat-relacyjnej-bazy-danych">Schemat relacyjnej bazy danych</h2>
<p>W modelu relacyjnym baza danych składa się zazwyczaj z większej ilości tabel. Zbiór wszystkich schematów tabel wchodzących w skład relacyjnego modelu danych nazywamy <strong>schematem relacyjnym bazy danych</strong>.</p>
<h2 id="właściwości-kolumny-kolumn---kandydatów-na-klucz-główny">Właściwości kolumny (kolumn) - kandydatów na klucz główny</h2>
<table>
<colgroup>
<col style="width: 6%" />
<col style="width: 93%" />
</colgroup>
<thead>
<tr class="header">
<th>Nazwa</th>
<th>Opis</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Trwałość</td>
<td>Wartość kolumny musi być stale obecna w wierszu, oznacza to, że kolumna (należąca do klucza głównego) nie może przyjmować wartości <code>Null</code>.</td>
</tr>
<tr class="even">
<td>Unikalność</td>
<td>Wartość ta dla każdego wiersza powinna być unikatowa, ponieważ w niepowtarzalny sposób musi identyfikować każdą krotkę.</td>
</tr>
<tr class="odd">
<td>Stabliność</td>
<td>Wartość ta nie może się zmieniać.</td>
</tr>
</tbody>
</table>
<h2 id="rodzaje-kluczy">Rodzaje kluczy</h2>
<p><strong>Klucz prosty</strong> - to taki, który jest jednoelementowy, składa się z jednej kolumny.</p>
<p><strong>Klucz złożony</strong> - to taki, który jest kilkuelementowy, składa się z więcej niż jednej kolumny.</p>
<p>Kolumny, które należą do kluczy (używa się ich do jednoznacznej identyfikacji wierszy tabeli), nazywamy <strong>atrybutami podstawowymi</strong>.</p>
<p>Kolumny nienależące do klucza nazywamy <strong>atrybutami opisowymi</strong>. Te atrybuty zawierają dane, które w danej relacji są przedmiotem opisu.</p>
<p><strong>Superklucz</strong> <em>(ang. superkey)</em> - to kolumna lub zestaw kolumn jednoznacznie identyfikujących każdą krotkę. Przedmiotem zainteresowań projektantów baz danych jest taki superklucz, który zawiera minimalny zestaw atrybutów jednoznacznie (niepowtarzalnie, unikatowo) identyfikującą wiersz.</p>
<p><strong>Klucz kandydujący (nadklucz, klucz potencjalny)</strong> - to superklucz zawierający minimalną liczbę kolumn unikatowo charakteryzujące krotki relacji. Innymi słowy to kolumna lub zbiór kolumn, które projektant bazy danych rozważa jako klucz główny.</p>
<p><strong>Klucz główny</strong> <em>(ang. primary key)</em> - klucz, który został wybrany (przez projektanta) aby jednoznacznie identyfikowa wiersze w relacji.</p>
<p><strong>Klucz obcy</strong> - kolumna lub zestaw kolumn w jednej tabeli, która pasuje do klucza kandydującego innej lub tej samej tabeli.</p>
<h2 id="schemat-bazy-danych-opisujący-klientów-banku">Schemat bazy danych opisujący klientów banku</h2>
<blockquote>
<p><strong>Klienci_banku</strong> (<strong>numer_klienta</strong>, imie, nazwisko, pesel, zdolnosc_kredytowa, typ_konta) # Lekcja 8 - Metody projektowania baz dancych</p>
</blockquote>
<h2 id="metoda-od-dołu-do-góry-wstępująca-bottom-up">Metoda od dołu do góry (wstępująca, bottom-up)</h2>
<ul>
<li>czyli od pojęć elementarnych do ogółu. Metoda ta nadaje się do projektowania prostych baz dancyh zawierających małą liczbę atrybutów. Taki proces projektowania bazy danych rozpoczyna się od zaidentyfikowania wszystkich atrybutów, a następnie przez analizę</li>
</ul>
<h2 id="etapy-projektowania-baz-danych">Etapy projektowania baz danych</h2>
<h3 id="koncepcyjne-projektowanie-baz-danych">Koncepcyjne projektowanie baz danych</h3>
<ul>
<li>to proces konstrukcji modelu danych, który jest niezależny od wszelkich aspektów fizycznych (specyficzny model danych, docelowy SZBD, programy użytkowe, język programowania, platforma sprzętowa)</li>
</ul>
<h3 id="logiczne-projektowanie-baz-danych">Logiczne projektowanie baz danych</h3>
<ul>
<li>to proces konstrukcji modelu, który jest oparty na specyficznym modelu danych (np. model relacyjny, model obiektów) ale niezależny od konkretnego SZBD i innych aspektów fizycznych.</li>
</ul>
<h3 id="fizyczne-projektowanie-baz-danych">Fizyczne projektowanie baz danych</h3>
<ul>
<li>to proces tworzenia opisu implementacji bazy danych w pamięci zewnętrznej. Opis ten zawiera bazowe relacje oraz organizowanie plików</li>
</ul>
<h2 id="projektowanie-encji.-pierwszy-etap-projektowania-baz-danych.-zanim-obiekt-stanie-się-tabelą-jest-encją">Projektowanie encji. Pierwszy etap projektowania baz danych. Zanim obiekt stanie się tabelą jest encją</h2>
<ul>
<li>Zadanniem projektowania baz danych jest odzwierciedlanie obiektów świata rzeczywistego w abstrakcyjne obiekty (encje), które w późniejszym etapie będzie można przekstałcić w tabelę.</li>
<li>Encja reprezentuje zbiór obiektów opisany tymi samymi cechami (atrybutami, własnościami). Konkretny obiekt świata rzeczywistego jest reprezentowany jako wystąpienie encji (rekord baz danych)</li>
<li>Jako przykład encji rozważmy następujący mikro-opis fragmentu pewnego świata rzeczywistego: biblioteka. Chcemy przechowywać informacje nt. danych książek: autor, tytuł, rok wydania</li>
</ul>
<table>
<thead>
<tr class="header">
<th>Model</th>
<th>Koncepcja</th>
<th>Logiczne</th>
<th>Fizyczne</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Nazwa encji</td>
<td>Tak</td>
<td>Tak</td>
<td></td>
</tr>
<tr class="even">
<td>Związek encji</td>
<td>Tak</td>
<td>Tak</td>
<td></td>
</tr>
<tr class="odd">
<td>Atrybuty</td>
<td></td>
<td>Tak</td>
<td>Tak</td>
</tr>
<tr class="even">
<td>Klucze główne</td>
<td></td>
<td>Tak</td>
<td>Tak</td>
</tr>
<tr class="odd">
<td>Klucze obce</td>
<td></td>
<td>Tak</td>
<td>Tak</td>
</tr>
<tr class="even">
<td>Nazwy tabel</td>
<td></td>
<td></td>
<td>Tak</td>
</tr>
<tr class="odd">
<td>Nazwy kolumn</td>
<td></td>
<td></td>
<td>Tak</td>
</tr>
<tr class="even">
<td>Typ danych</td>
<td></td>
<td></td>
<td>Tak</td>
</tr>
</tbody>
</table>
<h1 id="lekcja-8---zasady-projektowania-baz-danych">Lekcja 8 - Zasady projektowania baz danych</h1>
<h2 id="projektowanie-modelu-konceptualnego-bazy-danych">Projektowanie modelu konceptualnego bazy danych</h2>
<p>Model konceptualny nie jest zależny od struktur fizycznych, modelu danych, oprogramowanie, SZBD, języka programowania, etc.</p>
<p>Do tworzenia medalu graficznego schematu nbazy danych wykorzystywane są diagramy związków encji, z których najpopularniejsze są diagramy ERD <em>(ang. Entity Relationship Diagram)</em>. Pozwalają one na modelowanie struktur danych oraz związków zachodzących między tymi strukturami. Nadają się szczególnie do modelowania relacyjnych baz danych, ponieważ umożliwiają prawie bezpośrednie przekształcenie diagramu w schemat relacyjny.</p>
<ul>
<li>określenie występujących zbiorów encji</li>
<li>określenie atrybutów przypisanych do poszczególnych encji</li>
<li>określenie dziedziny poszczególnych atrybutów</li>
<li>ustalenie kluczy podstawowych</li>
<li>określenie typów występujących związków</li>
<li>zweryfikowanie utworzonego modelu</li>
</ul>
<h2 id="diagramy-związków-encji">Diagramy związków encji</h2>
<p>Diagramy ERD składają się z trzech rodzajów elementów:</p>
<ul>
<li>zbiorów encji</li>
<li>atrybutów encji</li>
<li>związków zachodzących między encjami</li>
</ul>
<h2 id="encja">Encja</h2>
<p>Encja to reprezentacja obiektu przechowywanego w bazie danych. Graficzną reprezentacją encji jest prostokąt z nazwą encji zapisaną w liczbie pojedynczej.</p>
<table>
<thead>
<tr class="header">
<th>Książka</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>nr_w_wykazie</td>
</tr>
<tr class="even">
<td>tytuł</td>
</tr>
<tr class="odd">
<td>rok wydania</td>
</tr>
<tr class="even">
<td>autor</td>
</tr>
<tr class="odd">
<td>stan w bibliotece</td>
</tr>
</tbody>
</table>
<h2 id="związek">Związek</h2>
<p>Związek jest to powiązanie między dwiema lub kilkoma encjami. Kążdy związek ma dwa końce, do których przypisane są następujące atrybuty:</p>
<ul>
<li>nazwa</li>
<li>liczebność związku</li>
<li>uczestnictwo w związku; atrybut ten określa, czy związek jest opcjonalny (niewymagany), czy obligatoryjny (wymagany)</li>
</ul>
<p>Graficzna reprezentacja związków zachodzących między encjami</p>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th>jeden do jednego</th>
<th>jeden do wielu</th>
<th>wiele do wielu</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>-+------------+-</code></td>
<td><code>-+----------&lt;-</code></td>
<td><code>-&gt;----------&lt;-</code></td>
</tr>
<tr class="even">
<td>po każdej stronie związku bierze udział po jednej instancji encji</td>
<td>po jednej stronie związku bierze udział po jednej instancji encji, a po drugiej wiele instancji</td>
<td>po obu stronach związku bierze udział wiele instancji encji</td>
</tr>
</tbody>
</table>
<p>Graficzna reprezentacja opcjonalności związku</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;">związek opcjonalny</th>
<th style="text-align: center;">związek obligatoryjny</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><code>----------------o-</code></td>
<td style="text-align: center;"><code>------------------||-</code></td>
</tr>
<tr class="even">
<td style="text-align: center;">można</td>
<td style="text-align: center;">wymaga</td>
</tr>
</tbody>
</table>
<h3 id="jeden-do-jednego">Jeden do jednego</h3>
<p>Klient MOŻE posiadać NIP, ale NIP WYMAGA klienta.</p>
<h3 id="jeden-do-wielu">Jeden do wielu</h3>
<p>Klient składa zamówienie - klient składa zamówienie (lub kilka zamówień), a zamówienie jest składane przez jednego klienta.</p>
<h3 id="wiele-do-wielu">Wiele do wielu</h3>
<p>Dostawca dostarcza towar - wiele dostawców dostarcza wiele towarów, wiele towarów jest dostarczanych przez wielu sprzedawców.</p>
<h3 id="diagramy-chena">Diagramy Chena</h3>
<p>Diagramy Chena pozwalaą w sposób graficzny przedstawić model projektu bazy danych i związków zachodzących pomiędzy encjami</p>
<table>
<thead>
<tr class="header">
<th>Kształt</th>
<th>Odpowiednik</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>prostokąt</td>
<td>encja</td>
</tr>
<tr class="even">
<td>koło</td>
<td>atrybut</td>
</tr>
<tr class="odd">
<td>romb</td>
<td>związek</td>
</tr>
</tbody>
</table>
<h3 id="notacja-barkera-notacja-oracle">Notacja Barkera (notacja Oracle)</h3>
<p>W notacji tej w odróżnieniu od notacji Martina związki wymagane oznacza się ciągłą linią związków, natomiast opcjonalne (nie wymagalne) - przerywaną.</p>
<h3 id="diagram-venna">Diagram Venna</h3>
<p>Zgodnie z założeniami Venna, encje reprezentowane sa przez owale, wewnątrz których znajdują się instancje.</p>
<p>Jeśli poprowadzimy poziome linie pomiędzy instancjami dwóch encji, zgodnie ze związkami zachodzącymi w rzeczywistości, w łatwy sposób możemy zilustrować liczebność i uczestnictwo w związku.</p>
<figure>
<img src="./Lekcja_8_diagram.png" alt="Diagram do ćwiczenia" /><figcaption>Diagram do ćwiczenia</figcaption>
</figure>
<p>Bilet (id_biletu, miejsce, id_rezerwacji, id_lotu, cena, klasa)</p>
<p>Lot (cel_podrozy, data_wylotu, id_lotu, miejsce_wylotu, nr_samolotu, dlugosc_lotu, nr_pasa_wylot, nr_pasa_ladowanie)</p>
<p>Klient (imie, nazwisko, pesel, data_urodzenia, kraj, nr_paszportu, id_klienta)</p>
<p>Rezerwacja (id_rezerwacji, id_klienta, id_biletu, wartość)</p>
<p>Klient rezerwuje jedną (lub wiele) rezerwacji</p>
<p>Rezerwacja jest rezerwowana przez jednego klienta</p>
<p>Rezerwacja dotyczy jednego (lub wielu) biletu</p>
<p>Bilet dotyczy jednej rezerwacji.</p>
<p>Bilet dotyczy jednego lotu.</p>
<p>Jeden lot ma jeden lub wiele biletów.</p>
<h2 id="zadanie-domowe">Zadanie domowe</h2>
<p>System zamawiania pizzy</p>
<p>Pizza z konkretnymi składnikami</p>
<h1 id="lekcja-14">Lekcja 14</h1>
<h2 id="group-by-1">GROUP BY 1</h2>
<p>Średnia wartość z każdej sprzedaży (1 wiersz, 1 kolumna)</p>
<h2 id="group-by-2">GROUP BY 2</h2>
<p>Średnia wartość z każdej sprzedaży z klientem o nazwisku Krawczyk (1 wiersz, 1 kolumna)</p>
<h2 id="group-by-3">GROUP BY 3</h2>
<p>Średnia wartość każdej sprzedaży z poszczególnymi klientami posortowanymi alfabetycznie (4 wiersze, 2 kolumny)</p>
<h2 id="group-by-4">GROUP BY 4</h2>
<p>Podaj nazwiska unikalnych klientów (4 wiersze, 1 kolumna)</p>
<h2 id="group-by-5">GROUP BY 5</h2>
<p>Podaj nazwiska unikalnych klientów (4 wiersze, 1 kolumna)</p>
<h2 id="group-by-10">GROUP BY 10</h2>
<p>Podaj średnią wartość każdej transakcji, grupując klienta i dostawcę (6 wierszy, 3 kolumny)</p>
<h2 id="group-by-11">GROUP BY 11</h2>
<p>Podaj średnią wartość każdej transakcji i liczbę transakcji na osobę, grupując klienta i dostawcę (6 wierszy, 3 kolumny)</p>
<h2 id="group-by-oraz-having-2">GROUP BY oraz HAVING 2</h2>
<p>posortowana średnia cena (6 wierszy 3 kolumny)</p>
<h2 id="group-by-oraz-having-3">GROUP BY oraz HAVING 3</h2>
<p>(3 wierszy 3 kolumny)</p>
<h2 id="group-by-oraz-having-3-1">GROUP BY oraz HAVING 3</h2>
<p>jw. ale posortowane rosnąco względem średniej (3 wierszy 3 kolumny)</p>
<h2 id="minimalna-płaca-maksymalna-płaca-i-różnica-pomiędzy">Minimalna płaca, maksymalna płaca i różnica pomiędzy</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">SELECT</span> <span class="fu">Min</span>(Płaca) <span class="kw">AS</span> <span class="kw">Minimum</span>, <span class="fu">Max</span>(Płaca) <span class="kw">AS</span> Maximum, <span class="fu">Max</span>(Płaca)<span class="op">-</span><span class="fu">Min</span>(Płaca) <span class="kw">AS</span> Różnica</a>
<a class="sourceLine" id="cb1-2" title="2"><span class="kw">FROM</span> PRACOWNICY;</a></code></pre></div>
<h2 id="średnia-pensja-dla-każdego-etatu-i-uporządkować-malejąco-względem-pensji">Średnia pensja dla każdego etatu i uporządkować malejąco względem pensji</h2>
<div class="sourceCode" id="cb2"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">SELECT</span> Etat, <span class="fu">Avg</span>(Pensja)</a>
<a class="sourceLine" id="cb2-2" title="2"><span class="kw">FROM</span> PRACOWNICY</a>
<a class="sourceLine" id="cb2-3" title="3"><span class="kw">GROUP</span> <span class="kw">BY</span> Etat</a>
<a class="sourceLine" id="cb2-4" title="4"><span class="kw">ORDER</span> <span class="kw">BY</span> <span class="fu">Avg</span>(Pensja) <span class="kw">DESC</span>;</a></code></pre></div>
<h2 id="zespoły-ile-osób-pracuje-w-nich-więcej-niż-2-osoby">Zespoły, ile osób pracuje w nich (więcej niż 2 osoby)</h2>
<div class="sourceCode" id="cb3"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">SELECT</span> IdZesp, <span class="fu">Count</span>(IdPrac)</a>
<a class="sourceLine" id="cb3-2" title="2"><span class="kw">FROM</span> PRACOWNICY</a>
<a class="sourceLine" id="cb3-3" title="3"><span class="kw">GROUP</span> <span class="kw">BY</span> IdZesp</a>
<a class="sourceLine" id="cb3-4" title="4"><span class="kw">HAVING</span> <span class="fu">Count</span>(IdPrac) <span class="op">&gt;=</span> <span class="dv">2</span>;</a></code></pre></div>
<h2 id="liczba-zatrudnionych-asystentów">Liczba zatrudnionych asystentów</h2>
<div class="sourceCode" id="cb4"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb4-1" title="1"><span class="kw">SELECT</span> <span class="fu">Count</span>(IdPrac)</a>
<a class="sourceLine" id="cb4-2" title="2"><span class="kw">FROM</span> PRACOWNICY</a>
<a class="sourceLine" id="cb4-3" title="3"><span class="kw">WHERE</span> Etat <span class="op">=</span> <span class="ot">&quot;asystent&quot;</span>;</a></code></pre></div>
<h2 id="sumaryczne-miesięczne-płace-dla-każdego-zespołu">Sumaryczne miesięczne płace dla każdego zespołu</h2>
<div class="sourceCode" id="cb5"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb5-1" title="1"><span class="kw">SELECT</span> <span class="fu">Sum</span>(Płaca), IdZesp</a>
<a class="sourceLine" id="cb5-2" title="2"><span class="kw">FROM</span> PRACOWNICY</a>
<a class="sourceLine" id="cb5-3" title="3"><span class="kw">GROUP</span> <span class="kw">BY</span> IdZesp;</a></code></pre></div>
<h2 id="zespoły-ile-osób-pracuje-w-nich-więcej-niż-2-osoby-sortuj-malejąco-po-liczbie-pracowników">Zespoły, ile osób pracuje w nich (więcej niż 2 osoby), sortuj malejąco po liczbie pracowników</h2>
<div class="sourceCode" id="cb6"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb6-1" title="1"><span class="kw">SELECT</span> IdZesp</a>
<a class="sourceLine" id="cb6-2" title="2"><span class="kw">FROM</span> PRACOWNICY</a>
<a class="sourceLine" id="cb6-3" title="3"><span class="kw">GROUP</span> <span class="kw">BY</span> IdZesp</a>
<a class="sourceLine" id="cb6-4" title="4"><span class="kw">HAVING</span> <span class="fu">Count</span>(IdPrac) <span class="op">&gt;=</span> <span class="dv">2</span></a>
<a class="sourceLine" id="cb6-5" title="5"><span class="kw">ORDER</span> <span class="kw">BY</span> <span class="fu">Count</span>(IdPrac) <span class="kw">DESC</span>;</a></code></pre></div>
<h2 id="dla-każdego-pracownika-wyświetl-pensję-najgorzej-zarabiającego-podwładnego.-wyniki-uporządkuj-wg.-malejącej-pensji">Dla każdego pracownika wyświetl pensję najgorzej zarabiającego podwładnego. Wyniki uporządkuj wg. malejącej pensji</h2>
<div class="sourceCode" id="cb7"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb7-1" title="1"><span class="kw">SELECT</span> Szef, IdPrac, <span class="fu">Min</span>(Płaca)</a>
<a class="sourceLine" id="cb7-2" title="2"><span class="kw">FROM</span> PRACOWNICY</a>
<a class="sourceLine" id="cb7-3" title="3"><span class="kw">GROUP</span> <span class="kw">BY</span> Szef</a>
<a class="sourceLine" id="cb7-4" title="4"><span class="kw">ORDER</span> <span class="kw">BY</span> <span class="fu">Min</span>(Płaca) <span class="kw">DESC</span>;</a></code></pre></div>
<h2 id="wyświetl-powtarzające-się-numery-id">Wyświetl powtarzające się numery ID</h2>
<div class="sourceCode" id="cb8"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb8-1" title="1"><span class="kw">SELECT</span> IdPrac, <span class="fu">Count</span>(<span class="op">*</span>)</a>
<a class="sourceLine" id="cb8-2" title="2"><span class="kw">GROUP</span> <span class="kw">BY</span> IdPrac</a>
<a class="sourceLine" id="cb8-3" title="3"><span class="kw">FROM</span> PRACOWNICY</a>
<a class="sourceLine" id="cb8-4" title="4"><span class="kw">HAVING</span> <span class="fu">Count</span>(<span class="op">*</span>) <span class="op">&gt;</span> <span class="dv">1</span>;</a></code></pre></div>
<h2 id="liczba-liter-w-nazwiskach-pracowników-i-liczba-nazwisk-z-daną-liczbą-liter-posortować-rosnąco-względem-liczby-liter-w-nazwisku">Liczba liter w nazwiskach pracowników i liczba nazwisk z daną liczbą liter, posortować rosnąco względem liczby liter w nazwisku</h2>
<div class="sourceCode" id="cb9"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb9-1" title="1"><span class="kw">SELECT</span> Len(Nazwisko), <span class="fu">Count</span>(IdPrac)</a>
<a class="sourceLine" id="cb9-2" title="2"><span class="kw">FROM</span> PRACOWNICY</a>
<a class="sourceLine" id="cb9-3" title="3"><span class="kw">GROUP</span> <span class="kw">BY</span> Len(Nazwisko)</a>
<a class="sourceLine" id="cb9-4" title="4"><span class="kw">ORDER</span> <span class="kw">BY</span> Len(Nazwisko) <span class="kw">ASC</span>;</a></code></pre></div>
<h2 id="średnie-pensje-powyżej-3000">Średnie pensje powyżej 3000</h2>
<div class="sourceCode" id="cb10"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb10-1" title="1"><span class="kw">SELECT</span> Etat, <span class="fu">Avg</span>(Płaca)</a>
<a class="sourceLine" id="cb10-2" title="2"><span class="kw">FROM</span> PRACOWNICY</a>
<a class="sourceLine" id="cb10-3" title="3"><span class="kw">GROUP</span> <span class="kw">BY</span> Etat</a>
<a class="sourceLine" id="cb10-4" title="4"><span class="kw">HAVING</span> <span class="fu">Avg</span>(Płaca) <span class="op">&gt;=</span> <span class="dv">3000</span>;</a></code></pre></div>
<h2 id="wyświetl-sumę-płac-w-każdym-etacie-uwzględniając-premię">Wyświetl sumę płac w każdym etacie (uwzględniając premię)</h2>
<div class="sourceCode" id="cb11"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb11-1" title="1"><span class="kw">SELECT</span> Etat, <span class="fu">SUM</span>(Płaca <span class="op">+</span> ISNULL(Premia,<span class="dv">0</span>))</a>
<a class="sourceLine" id="cb11-2" title="2"><span class="kw">FROM</span> PRACOWNICY</a>
<a class="sourceLine" id="cb11-3" title="3"><span class="kw">GROUP</span> <span class="kw">BY</span> Etat;</a></code></pre></div>
<p>ISNULL(kolumna, wartość zastępcza) - zastępuje NULL w danej kolumnie wartością zastępczą.</p>
<p>COALESCE(wartość1,wartość2,wartość3,…,wartośćn) - zwraca pierwszą nie-nullową wartość z listy. Startuje od wartości podanej jako pierwsza, jeśli nie jest NULLem to ją zwraca a jeśli jest to analizuje kolejną podaną w jej definicji.</p>
<h1 id="lekcja-4---system-bazy-danych">
Lekcja 4 - System bazy danych
</h1>
<h2 id="główne-elementy">
Główne elementy
</h2>
<ul>
<li>
dane
</li>
<li>
sprzęt
</li>
<li>
oprogramowanie
</li>
<li>
użytkownicy
</li>
</ul>
<h2 id="architektura-systemu-baz-danych">
Architektura systemu baz danych
</h2>
<p>
Interakcja programu użytkownika (aplikacji) z bazą danych odbywa się za pomocą języka SQL. Użytkownik komunikuje się z bazą danych za pomocą aplikacji, a aplikacja komunikuje się z bazą danych za pomocą poleceń SQL.
</p>
<p>
Stosujemy dwa sposoby komunikacji z bazą danych:
</p>
<h3 id="architektura-klient-serwer">
Architektura klient-serwer
</h3>
<p>
W architekturze klient-serwer serwer pełni rolę DBMS, natomiast klientami mogą być aplikacje poziomu zewnętrznego.
</p>
<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th>
Klient
</th>
<th>
Serwer
</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>
Obsługuje interfejs użytkownika
</td>
<td>
Akceptuje i przetwarza żądania do bazy danych od klientów
</td>
</tr>
<tr class="even">
<td>
Akceptuje wprowadzane dane i spawdza ich poprawność składniową
</td>
<td>
Sprawdza uprawnienia
</td>
</tr>
<tr class="odd">
<td>
Obsługuje sterowanie w aplikacji
</td>
<td>
Zapewnia nienaruszalność więzów integralności
</td>
</tr>
<tr class="even">
<td>
Tworzy żądanie do bazy danych i przesyła je do serwera
</td>
<td>
Realizuje przetwarzanie zapytań/aktualizacji i przekazuje odpowiedzi klientom
</td>
</tr>
<tr class="odd">
<td>
Przekazuje odpowiedź z powrotem do użytkownika
</td>
<td>
Konserwuje katalog systemowy
</td>
</tr>
<tr class="even">
<td>
</td>
<td>
Obsługuje współbieżny dostęp
</td>
</tr>
<tr class="odd">
<td>
</td>
<td>
Realizuje odzyskiwanie danych po awarii
</td>
</tr>
</tbody>
</table>
<h4 id="architektura-klient-serwer-rozproszona">
Architektura klient-serwer rozproszona
</h4>
<p>
W architekturze klient-serwer rozproszonej każda maszyna może przechowywać dane i być serwerem dla jednych klientów, natomiast klientem dla innych. Każda maszyna wspiera cały SZBD.
</p>
<h3 id="architektura-3-warstwowa">
Architektura 3-warstwowa
</h3>
<p>
Każdy użytkownik nie ma dostępu bezpośrednio do aplikacji, ale przez stronę internetową ma dostęp do serwera aplikacji, ten z kolei do SZBD, a ten do bazy danych.
</p>
<h1 id="lekcja-5---system-zarządzania-bazą-danych">
Lekcja 5 - System zarządzania bazą danych
</h1>
<p>
<strong>System Zarządzania Bazą Danych</strong> <em>(ang. <strong>D</strong>ata<strong>b</strong>ase <strong>M</strong>anagement <strong>S</strong>ystem)</em> pełni funkcję pośrednika pomiędzy zapisanymi danymi a użytkownikiem bądź programem chcącym z tych danych skorzystać.
</p>
<p>
System zarządzania bazą danych musi posiadać mechanizmy, które pozwalają administrować zbiorami danych umieszczonymi w bazie, zapewniają bezpieczeństwo i integralność danych, umożliwiają dostęp do danych za pomocą SQL, zapewniają wielodostępowość oraz pozwalają na autoryzację dostępu do danych.
</p>
<h2 id="trójwarstwowa-architektura-szbd">
Trójwarstwowa architektura SZBD
</h2>
<p>
System zarządzania bazą danych jest pośrednikiem (buforem) pomiędzy programami użytkowymi, użytkownikiem końcowym i bazą danych.
</p>
<p>
W 1976 ANSI-SPARC zaproponował trzypoziomową architekturę SZBD:
</p>
<ul>
<li>
<strong>poziom zewnętrzny (użytkownika)</strong> - opisuje jak użytkownicy widzą dane,
</li>
<li>
<strong>poziom koncepcyjny (pojęciowy)</strong> - opisuje widok wszystkich danych w bazie. Poziom ten opisuje logiczny widok baz danych, bez szczegółów dotyczących realizacji,
</li>
<li>
<strong>poziom wewnętrzny (fizyczny)</strong> - opisuje sposób przechowywania danych oraz metody dostępu do nich.
</li>
</ul>
<p>
Pomiędzy warstwami istnieją dwa poziomy odwzorowania przekładające się na dwa poziomy niezależności danych:
</p>
<ul>
<li>
<strong>logiczna niezależność danych</strong> - oznacza niewrażliwość schematów zewnętrznych na zmiany w schemacie koncepcyjnym,
</li>
<li>
<strong>fizyczna niezależność danych</strong> - oznacza niewrażliwośc schematu koncepcyjnego na zmiany w schemacie fizycznym
</li>
</ul>
<h2 id="funkcje-szbd">
Funkcje SZBD
</h2>
<ul>
<li>
Funkcje CRUD <em>(Create, Read, Update, Delete)</em>
</li>
<li>
Obsługa słownika danych - przechowywanie metadanych (danych o danych)
</li>
<li>
Zarządzanie transakcjami
</li>
<li>
Sterowanie współbieżnością
</li>
<li>
Odtwarzanie po awarii
</li>
<li>
Kontrola uprawnień użytkownika
</li>
<li>
Komunikacja danych (wymiana danych w systemie technologii informacyjnej)
</li>
<li>
Wymuszanie więzów integralności
</li>
<li>
Udostępnianie narzędzi do administrowania bazą danych (do importowania, eksportowania, monitorowania operacji, monitorowania wydajności)
</li>
</ul>
<h2 id="zadania-szbd---podane-przez-codda-w-roku-1982">
Zadania SZBD - podane przez Codd’a w roku 1982
</h2>
<h2 id="zadanie-domowe-5-przykładów-szbd">
Zadanie domowe: 5 przykładów SZBD
</h2>
<ul>
<li>
<strong>Microsoft SQL Server</strong> - napisany przez Microsoft, pierwsza wersja to SQL Server 1.0, napisana dla systemu operacyjnego IBM OS/2 w 1989. Obecnie, najnowszą wersją jest Microsoft SQL Server 2017, wydane 2 października 1989.
</li>
<li>
<strong>MySQL</strong> - system zarządzania bazami danych rozwijany przez szwedzką firmę MySQL AB, która w 16 stycznia 2008 została wykupiona przez Sun Microsystems, a ta 27 stycznia 2010 roku przez Oracle. Wydawany albo na licencji komercyjnej albo GNU GPL. Pierwsze wydanie zostało wypuszczone 23 maja 1995, najnowsza stabilna wersja to wersja 8.0.11, wydana 19 kwietnia 2018 roku.
</li>
<li>
<strong>MariaDB</strong> – system zarządzania bazami danych stworzona przez grupę (głównie) byłych pracowników MySQL AB, pod przewodnictwem Michaela Wideniusa, współtwórcy MySQL. Pierwsze wydanie nastąpiło 22 stycznia 2009, a obecna najnowsza wersja stabilna to 10.3.9 wydana 15 sierpnia 2018 roku.
</li>
<li>
<strong>MongoDB</strong> - system zarządzania bazą danych wydawany przez MongoDB Inc. pod licencją GNU AGPL. Pierwsze wydanie nastąpiło w roku 2009, a aktualna wersja stabilna to 3.4.10, wydana 31 października 2017 roku.
</li>
<li>
<strong>PostgreSQL</strong> - jeden z najpopularniejszych systemów zarządzania bazami danych, na początku opracowany przez Uniwersytet Kalifornijski w Berkley, obecnie przez PostgreSQL Global Development Group. Pierwsze wydanie miało miejsce 1 maja 1995, a aktualna wersja stabilna to wersja 10.5 wydana 9 sierpnia 2018 roku.
</li>
</ul>
<h1 id="lekcja-6---integralność-danych">
Lekcja 6 - Integralność danych
</h1>
<p>
Integralność bazy danych to odpowiednie mechanizmy zabezpiezające przed skutkami:
</p>
<ul>
<li>
przypadkowych błędów logicznych
</li>
<li>
konfliktów we współbieżym dostępie do danych
</li>
<li>
awarii oprogramowania i sprzętu komputerowego
</li>
</ul>
<p>
System integralny to taki, który <strong>dostarcza nam wiarygodne dane</strong> i jest zabezpieczony przed nieautoryzowaną modyfikacją informacji.
</p>
<p>
Systemy baz danych <strong>powinny zapewniać</strong> możliwość sprawdzania i ewentualnej korekty wprowadzanych danych oraz powinny zawierać odpowiednie mechanizmy zapewniające prawidłowe przetwarzanie danych.
</p>
<p>
Proces ochrony integralności obejmuje:
</p>
<ul>
<li>
kontrolę danych wejściowych oraz synchronizację dostępu do danych,
</li>
<li>
poprawianie czyli korektę danych, cofanie i odtwarzanie stanu bazy,
</li>
<li>
archiwizację poprzez tworzenie kopii bazy oraz zapisów działania systemu,
</li>
<li>
testowanie czyli sprawdzanie poprawności zawartości bazy
</li>
</ul>
<h2 id="integralność-danych">
Integralność danych
</h2>
<p>
<strong>Integralność danych</strong> oznacza, że baza danych stanowi odzwierciedlenie rzeczywistości. Integralność danych określamy również mianem <strong>spójności danych</strong>. Spójność danych związana jest z ich dokładnością - dane dokładnie odzwierciedlają modelowaną rzeczywistość. Dane muszą być poprawne i zgodne ze schematem bazy danych.
</p>
<p>
<strong><em>Integralność</em></strong> to zapewnienie <strong>kompletności, poprawności i wiarygodności</strong> danych zgromadzonych w bazie.
</p>
<p>
Pojęcie integralności obejmuje:
</p>
<ul>
<li>
<strong>integralność statyczną</strong>
<ul>
<li>
Źródłem naruszenia <strong>integralności statycznej są błędy logiczne</strong> w danych oraz brak poprawnie skonstruowanego schematu bazy danych.
</li>
</ul>
</li>
<li>
<strong>integralność transakcyjną</strong>
<ul>
<li>
Zagrożeniem <strong>integralności transakcyjnej są awarie oprogramowania i sprzętu oraz współbieżny dostęp do danych</strong>.
</li>
</ul>
</li>
</ul>
<h2 id="integralność-statyczna">
Integralność statyczna
</h2>
<p>
Integralność statyczna dotyczy poprawnie zaprojektowanego schematu bazy danych jak również spełnienia ograniczeń nałożonych na wartości atrybutów opisujących obiekty w bazie.
</p>
<p>
Istnieją <strong>cztery typy integralności danych</strong> konieczne do wdrożenia w trakcie procesu projektowania bazy danych. Trzy typu integralności danych opierają się na różnych aspektach struktury bazy danych. Typ czwarty opiera się na sposobie spojrzenia na dane i ich wykorzystania w ortanizacji.
</p>
<h3 id="integralność-semantyczna">
Integralność semantyczna
</h3>
<p>
<strong>Integralność semantyczna</strong> <em>(inaczej zwana integralnością na poziomie pola czy też integralnością domeny)</em> zapewnia odpowiednią strukturę każdego pola, odpowiednią ważność wartości występujących w każdym polu, ich spójność i dokładność, a także to, że pola tego samego typu są spójnie zdefiniowane w całej bazie danych.
</p>
<p>
<strong>Jeżeli wartości danych spełniają wcześniej zdefiniowane i nałożone ograniczenia wówczas mówimy, że zachowana jest integralność semantyczna.</strong>
</p>
<p>
Zapewnienie integralności semantycznej ma na celu zabezpieczenie danych przed celową lub przypadkową błędną modyfikacją danych, a więc odrzucenie wszelkich akcji powodujących niespójność bazy lub uruchomienie akcji, które przywracają poprawność i spójność bazy.
</p>
<p>
Integralność można wymusić w sposób <strong>deklaratywny poprzez więzy integralności</strong> oraz w sposób <strong>proceduralny poprzez tzw. wyzwalacze</strong> <em>(ang. triggers)</em>.
</p>
<p>
<strong>Więzy integralności są to pewne warunki, które muszą być spełnione</strong> poprzez określony podzbiór danych w bazie. Warunki te muszą pozostać prawdziwe przy każdej operacji modyfikacji w bazie danych. Każda operacja naruszająca te więzy musi zostać anulowana. Typowy przykład narzuconych ograniczeń: wartości atrybutów w danej tabeli muszą pochodzić z określonej dziedziny.
</p>
<h3 id="integralność-encji">
Integralność encji
</h3>
<p>
<strong>Integralnością encji, czyli integralność na poziomie tabeli</strong> zapewnia brak duplikowanych wierszy (krotek) oraz to, że pole (pola) identyfikujące każdą krotkę w tabeli jest unikatowe i nigdy nie zawiera wartości <code>Null</code>.
</p>
<p>
Integralność encji zapewnia się na etapie definiowania schematu bazy danych przez zdefiniowanie klucza głównego.
</p>
<h3 id="integralność-referencyjna">
Integralność referencyjna
</h3>
<p>
<strong>W systemie bazy danych tablice powiązane są między sobą kluczami.</strong> Powiązania te realizowane są przez <strong>klucze główne <em>(ang. primary key)</em></strong> i tzw. <strong>klucze obce <em>(ang. foreign key)</em></strong>
</p>
<p>
Powiązania między kluczami encji pociągają za sobą konieczność określania reguł postępowania w wypadku wykonywania operacji na tabelach nadrzędnych w stosunku do innych tabel.
</p>
<p>
To właśnie <strong>integralność referencyjna określa stany w jakich może znajdować się wartość klucza obcego w danej tabeli</strong>. Wartość klucza obcego w danej tabeli musi być albo równa wartości klucza głównego w tabeli z nią powiązanej lub ewentualnie przyjąć wartość <code>Null</code>.
</p>
<h3 id="integralność-biznesowa">
Integralność biznesowa
</h3>
<h2 id="podział-na-więzy-integralności-statycznej-i-dynamicznej">
Podział na więzy integralności statycznej i dynamicznej
</h2>
<p>
Więzy integralności dzielimy na statyczne i dynamiczne. Więzy <strong>statyczne</strong> muszą być spełnione w bieżącym i następnym stanie bazy.
</p>
<p>
Więzy <strong>dynamiczne</strong>, czy inaczej <strong>temporalne</strong>, określają poprawność danych w odniesieniu do historii stanów przechowywanych w bazie.
</p>
<p>
Dynamiczne więzy integralności to więzy, które w przeciwieństwie do statycznych więzów integralności obejmujących pojedynczy stan bazy, obejmują sekwencję stanów bazy danych.
</p>
<h2 id="model-temporalny">
Model temporalny
</h2>
<p>
<strong>Model temporalny to model uwzględniający czas rejestracji danych oraz rzeczywisty czas zajścia zdarzeń.</strong>
</p>
<p>
Temporalne więzy integralności określają poprawność danych zarówno dla bieżącego stanu bazy danych jaki i stanów poprzednich i przyszłych. Ogólnie są one przydatne wszędzie tam, gdzie sa istotne zależności czasowe między danymi. Np. można zadać taki warunek:
</p>
<blockquote>
<p>
Pensja pracownika nie może wzrosnąć o więcej niż 10% w ciągu 2 kolejnych posiedzeń zarządu.
</p>
</blockquote>
<p>
W bazach statycznych możliwe jest tylko sprawdzenie warunku, czy np. pensja pracownika nie może wzrosnąć jednorazowo o więcej niż 10%.
</p>
<h1 id="lekcja-7---model-relacyjny---charakterystyka-elementów">
Lekcja 7 - Model relacyjny - charakterystyka elementów
</h1>
<h2 id="zawody">
Zawody
</h2>
<p>
Chcemy zbierać informacje na temat wyników uzyskanych przez uczniów wybranej szkoły w międzyszkolnych zawodach lekkoatletycznych:
</p>
<ul>
<li>
Imię i nazwisko zawodnika
</li>
<li>
Numer startowy
</li>
<li>
Wyniki
<ul>
<li>
bieg
</li>
<li>
skok w dal
</li>
<li>
rzut oszczepem
</li>
</ul>
</li>
<li>
Nazwisko opiekuna
</li>
<li>
Kategoria wiekowa
</li>
</ul>
<h2 id="struktura-danych-na-przykładzie-tabeli-zawody">
Struktura danych na przykładzie tabeli Zawody
</h2>
<table>
<thead>
<tr class="header">
<th>
Numer startowy
</th>
<th>
Imię
</th>
<th>
Nazwisko
</th>
<th style="text-align: center;">
Kategoria
</th>
<th style="text-align: center;">
Opiekun
</th>
<th style="text-align: center;">
Bieg
</th>
<th style="text-align: center;">
Skok
</th>
<th style="text-align: center;">
Rzut
</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>
1
</td>
<td>
Jan
</td>
<td>
Kowalski
</td>
<td style="text-align: center;">
1
</td>
<td style="text-align: center;">
2
</td>
<td style="text-align: center;">
11.4121
</td>
<td style="text-align: center;">
6.2331
</td>
<td style="text-align: center;">
32.12
</td>
</tr>
<tr class="even">
<td>
2
</td>
<td>
Piotr
</td>
<td>
Kola
</td>
<td style="text-align: center;">
1
</td>
<td style="text-align: center;">
3
</td>
<td style="text-align: center;">
11.39
</td>
<td style="text-align: center;">
5.92
</td>
<td style="text-align: center;">
37.00
</td>
</tr>
</tbody>
</table>
<h2 id="model-relacyjny---podstawowe-pojęcia">
Model relacyjny - podstawowe pojęcia
</h2>
<p>
Każda z relacji ma <em>atrybuty</em> (kolumny) opatrzone nazwami. Atrybuty te mają zdefiniowane <em>dziedziny</em>, czyli zbiór dopuszczalnych wartości, np. w atrybucie płeć relacji personel mogą wystąpić tylko wartości M lub K. _Pojęcie dziedziny jest bardzo istotne, gdyż pomaga użytkownikowi zdefiniować, niezależnie od relacji, znaczenie atrybutu.
</p>
<h3 id="schemat-tabeli">
Schemat tabeli
</h3>
<p>
Nazwa tabeli wraz z listą nazw kolumn (atrybutów) jest <strong>schematem tabel</strong> <em>(ang. table schema)</em>.
</p>
<p>
Przykładowy opis schematu:
</p>
<blockquote>
<p>
<strong>Zawody</strong> <em>(<strong>numer_startowy</strong>, imie, nazwisko, kategoria, klasa, opiekun, bieg, rzut, skok)</em>
</p>
</blockquote>
<ul>
<li>
Konwencja nazewnictwa
<ul>
<li>
Tabele z dużej litery
</li>
<li>
atrybuty z małej litery
</li>
<li>
Nazwy tabel są rzeczownikami w liczbie mnogiej
</li>
<li>
W zapisie tabel nie stosujemy polskich liter diaktrycznych
</li>
</ul>
</li>
</ul>
<p>
Dla poszczególnych atrybutów łatwo możemy określić typy danych.
</p>
<ul>
<li>
numer_startowy - integer
</li>
<li>
imie - char
</li>
<li>
nazwisko - char
</li>
</ul>
<blockquote>
<p>
<strong>Zawody</strong> <em>(<strong>numer_startowy</strong>: integer, imie: char, nazwisko: char, kategoria: integer, klasa: integer, opiekun: integer, bieg: time, rzut: float, skok: float)</em>
</p>
</blockquote>
<h2 id="schemat-tabeli-uczniowie-klasy-3d">
Schemat tabeli “Uczniowie klasy 3D”
</h2>
<p>
<strong>Nazwa tabeli</strong>: “Uczniowie klasy 3D”
</p>
<blockquote>
<p>
<strong>Uczniowie</strong> <em>(<strong>numer_z_dziennika</strong>, imie: string, nazwisko: string, plec: char, grupa_ang: int, grupa_jez: string, religia: boolean, etyka: boolean, srednia: float, data_urodzenia: date, miejsce_urodzenia: string, pesel: int)</em>
</p>
</blockquote>
<table>
<colgroup>
<col style="width: 10%" />
<col style="width: 4%" />
<col style="width: 7%" />
<col style="width: 3%" />
<col style="width: 15%" />
<col style="width: 8%" />
<col style="width: 13%" />
<col style="width: 12%" />
<col style="width: 8%" />
<col style="width: 10%" />
<col style="width: 6%" />
</colgroup>
<thead>
<tr class="header">
<th>
Numer z dziennika
</th>
<th>
Imię
</th>
<th>
Nazwisko
</th>
<th style="text-align: center;">
Płeć
</th>
<th style="text-align: center;">
Grupa języka angielskiego
</th>
<th>
Grupa językowa
</th>
<th>
Czy chodzi na religię?
</th>
<th>
Czy chodzi na etykę?
</th>
<th>
Data urodzenia
</th>
<th>
Miejsce urodzenia
</th>
<th>
PESEL
</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>
30
</td>
<td>
Zbigniew
</td>
<td>
Żołnierowicz
</td>
<td style="text-align: center;">
M
</td>
<td style="text-align: center;">
17
</td>
<td>
Hiszpański
</td>
<td>
Nie
</td>
<td>
Tak
</td>
<td>
03-11-2000
</td>
<td>
Białogard
</td>
<td>
00310*****
</td>
</tr>
</tbody>
</table>
<h2 id="schemat-tabeli-komisu">
Schemat tabeli komisu
</h2>
<blockquote>
<p>
<strong>Komis</strong> <em>(<strong>tablica_rejestracyjna</strong>: string, przebieg: float, marka: string, model: string, data_produkcji: date, pojemosc_zbiornika: float, czy_uzywane: boolean, moc: int, kolor: string, typ_nadwozia: string, czy_bezwypadkowy: boolean, pierwsza_tablica_rejestracyjna: string)</em>
</p>
</blockquote>
<h2 id="schemat-relacyjnej-bazy-danych">
Schemat relacyjnej bazy danych
</h2>
<p>
W modelu relacyjnym baza danych składa się zazwyczaj z większej ilości tabel. Zbiór wszystkich schematów tabel wchodzących w skład relacyjnego modelu danych nazywamy <strong>schematem relacyjnym bazy danych</strong>.
</p>
<h2 id="właściwości-kolumny-kolumn---kandydatów-na-klucz-główny">
Właściwości kolumny (kolumn) - kandydatów na klucz główny
</h2>
<table>
<colgroup>
<col style="width: 6%" />
<col style="width: 93%" />
</colgroup>
<thead>
<tr class="header">
<th>
Nazwa
</th>
<th>
Opis
</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>
Trwałość
</td>
<td>
Wartość kolumny musi być stale obecna w wierszu, oznacza to, że kolumna (należąca do klucza głównego) nie może przyjmować wartości <code>Null</code>.
</td>
</tr>
<tr class="even">
<td>
Unikalność
</td>
<td>
Wartość ta dla każdego wiersza powinna być unikatowa, ponieważ w niepowtarzalny sposób musi identyfikować każdą krotkę.
</td>
</tr>
<tr class="odd">
<td>
Stabliność
</td>
<td>
Wartość ta nie może się zmieniać.
</td>
</tr>
</tbody>
</table>
<h2 id="rodzaje-kluczy">
Rodzaje kluczy
</h2>
<p>
<strong>Klucz prosty</strong> - to taki, który jest jednoelementowy, składa się z jednej kolumny.
</p>
<p>
<strong>Klucz złożony</strong> - to taki, który jest kilkuelementowy, składa się z więcej niż jednej kolumny.
</p>
<p>
Kolumny, które należą do kluczy (używa się ich do jednoznacznej identyfikacji wierszy tabeli), nazywamy <strong>atrybutami podstawowymi</strong>.
</p>
<p>
Kolumny nienależące do klucza nazywamy <strong>atrybutami opisowymi</strong>. Te atrybuty zawierają dane, które w danej relacji są przedmiotem opisu.
</p>
<p>
<strong>Superklucz</strong> <em>(ang. superkey)</em> - to kolumna lub zestaw kolumn jednoznacznie identyfikujących każdą krotkę. Przedmiotem zainteresowań projektantów baz danych jest taki superklucz, który zawiera minimalny zestaw atrybutów jednoznacznie (niepowtarzalnie, unikatowo) identyfikującą wiersz.
</p>
<p>
<strong>Klucz kandydujący (nadklucz, klucz potencjalny)</strong> - to superklucz zawierający minimalną liczbę kolumn unikatowo charakteryzujące krotki relacji. Innymi słowy to kolumna lub zbiór kolumn, które projektant bazy danych rozważa jako klucz główny.
</p>
<p>
<strong>Klucz główny</strong> <em>(ang. primary key)</em> - klucz, który został wybrany (przez projektanta) aby jednoznacznie identyfikowa wiersze w relacji.
</p>
<p>
<strong>Klucz obcy</strong> - kolumna lub zestaw kolumn w jednej tabeli, która pasuje do klucza kandydującego innej lub tej samej tabeli.
</p>
<h2 id="schemat-bazy-danych-opisujący-klientów-banku">
Schemat bazy danych opisujący klientów banku
</h2>
<blockquote>
<p>
<strong>Klienci_banku</strong> (<strong>numer_klienta</strong>, imie, nazwisko, pesel, zdolnosc_kredytowa, typ_konta)
</p>
</blockquote>
<h1 id="lekcja-8---metody-projektowania-baz-dancych">
Lekcja 8 - Metody projektowania baz dancych
</h1>
<h2 id="metoda-od-dołu-do-góry-wstępująca-bottom-up">
Metoda od dołu do góry (wstępująca, bottom-up)
</h2>
<ul>
<li>
czyli od pojęć elementarnych do ogółu. Metoda ta nadaje się do projektowania prostych baz dancyh zawierających małą liczbę atrybutów. Taki proces projektowania bazy danych rozpoczyna się od zaidentyfikowania wszystkich atrybutów, a następnie przez analizę
</li>
</ul>
<h2 id="etapy-projektowania-baz-danych">
Etapy projektowania baz danych
</h2>
<h3 id="koncepcyjne-projektowanie-baz-danych">
Koncepcyjne projektowanie baz danych
</h3>
<ul>
<li>
to proces konstrukcji modelu danych, który jest niezależny od wszelkich aspektów fizycznych (specyficzny model danych, docelowy SZBD, programy użytkowe, język programowania, platforma sprzętowa)
</li>
</ul>
<h3 id="logiczne-projektowanie-baz-danych">
Logiczne projektowanie baz danych
</h3>
<ul>
<li>
to proces konstrukcji modelu, który jest oparty na specyficznym modelu danych (np. model relacyjny, model obiektów) ale niezależny od konkretnego SZBD i innych aspektów fizycznych.
</li>
</ul>
<h3 id="fizyczne-projektowanie-baz-danych">
Fizyczne projektowanie baz danych
</h3>
<ul>
<li>
to proces tworzenia opisu implementacji bazy danych w pamięci zewnętrznej. Opis ten zawiera bazowe relacje oraz organizowanie plików
</li>
</ul>
<h2 id="projektowanie-encji.-pierwszy-etap-projektowania-baz-danych.-zanim-obiekt-stanie-się-tabelą-jest-encją">
Projektowanie encji. Pierwszy etap projektowania baz danych. Zanim obiekt stanie się tabelą jest encją
</h2>
<ul>
<li>
Zadanniem projektowania baz danych jest odzwierciedlanie obiektów świata rzeczywistego w abstrakcyjne obiekty (encje), które w późniejszym etapie będzie można przekstałcić w tabelę.
</li>
<li>
Encja reprezentuje zbiór obiektów opisany tymi samymi cechami (atrybutami, własnościami). Konkretny obiekt świata rzeczywistego jest reprezentowany jako wystąpienie encji (rekord baz danych)
</li>
<li>
Jako przykład encji rozważmy następujący mikro-opis fragmentu pewnego świata rzeczywistego: biblioteka. Chcemy przechowywać informacje nt. danych książek: autor, tytuł, rok wydania
</li>
</ul>
<table>
<thead>
<tr class="header">
<th>
Model
</th>
<th>
Koncepcja
</th>
<th>
Logiczne
</th>
<th>
Fizyczne
</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>
Nazwa encji
</td>
<td>
Tak
</td>
<td>
Tak
</td>
<td>
</td>
</tr>
<tr class="even">
<td>
Związek encji
</td>
<td>
Tak
</td>
<td>
Tak
</td>
<td>
</td>
</tr>
<tr class="odd">
<td>
Atrybuty
</td>
<td>
</td>
<td>
Tak
</td>
<td>
Tak
</td>
</tr>
<tr class="even">
<td>
Klucze główne
</td>
<td>
</td>
<td>
Tak
</td>
<td>
Tak
</td>
</tr>
<tr class="odd">
<td>
Klucze obce
</td>
<td>
</td>
<td>
Tak
</td>
<td>
Tak
</td>
</tr>
<tr class="even">
<td>
Nazwy tabel
</td>
<td>
</td>
<td>
</td>
<td>
Tak
</td>
</tr>
<tr class="odd">
<td>
Nazwy kolumn
</td>
<td>
</td>
<td>
</td>
<td>
Tak
</td>
</tr>
<tr class="even">
<td>
Typ danych
</td>
<td>
</td>
<td>
</td>
<td>
Tak
</td>
</tr>
</tbody>
</table>
<h1 id="lekcja-8---zasady-projektowania-baz-danych">
Lekcja 8 - Zasady projektowania baz danych
</h1>
<h2 id="projektowanie-modelu-konceptualnego-bazy-danych">
Projektowanie modelu konceptualnego bazy danych
</h2>
<p>
Model konceptualny nie jest zależny od struktur fizycznych, modelu danych, oprogramowanie, SZBD, języka programowania, etc.
</p>
<p>
Do tworzenia medalu graficznego schematu nbazy danych wykorzystywane są diagramy związków encji, z których najpopularniejsze są diagramy ERD <em>(ang. Entity Relationship Diagram)</em>. Pozwalają one na modelowanie struktur danych oraz związków zachodzących między tymi strukturami. Nadają się szczególnie do modelowania relacyjnych baz danych, ponieważ umożliwiają prawie bezpośrednie przekształcenie diagramu w schemat relacyjny.
</p>
<ul>
<li>
określenie występujących zbiorów encji
</li>
<li>
określenie atrybutów przypisanych do poszczególnych encji
</li>
<li>
określenie dziedziny poszczególnych atrybutów
</li>
<li>
ustalenie kluczy podstawowych
</li>
<li>
określenie typów występujących związków
</li>
<li>
zweryfikowanie utworzonego modelu
</li>
</ul>
<h2 id="diagramy-związków-encji">
Diagramy związków encji
</h2>
<p>
Diagramy ERD składają się z trzech rodzajów elementów:
</p>
<ul>
<li>
zbiorów encji
</li>
<li>
atrybutów encji
</li>
<li>
związków zachodzących między encjami
</li>
</ul>
<h2 id="encja">
Encja
</h2>
<p>
Encja to reprezentacja obiektu przechowywanego w bazie danych. Graficzną reprezentacją encji jest prostokąt z nazwą encji zapisaną w liczbie pojedynczej.
</p>
<table>
<thead>
<tr class="header">
<th>
Książka
</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>
nr_w_wykazie
</td>
</tr>
<tr class="even">
<td>
tytuł
</td>
</tr>
<tr class="odd">
<td>
rok wydania
</td>
</tr>
<tr class="even">
<td>
autor
</td>
</tr>
<tr class="odd">
<td>
stan w bibliotece
</td>
</tr>
</tbody>
</table>
<h2 id="związek">
Związek
</h2>
<p>
Związek jest to powiązanie między dwiema lub kilkoma encjami. Kążdy związek ma dwa końce, do których przypisane są następujące atrybuty:
</p>
<ul>
<li>
nazwa
</li>
<li>
liczebność związku
</li>
<li>
uczestnictwo w związku; atrybut ten określa, czy związek jest opcjonalny (niewymagany), czy obligatoryjny (wymagany)
</li>
</ul>
<p>
Graficzna reprezentacja związków zachodzących między encjami
</p>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th>
jeden do jednego
</th>
<th>
jeden do wielu
</th>
<th>
wiele do wielu
</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>
<code>-+————+-</code>
</td>
<td>
<code>-+———-&lt;-</code>
</td>
<td>
<code>-&gt;———-&lt;-</code>
</td>
</tr>
<tr class="even">
<td>
po każdej stronie związku bierze udział po jednej instancji encji
</td>
<td>
po jednej stronie związku bierze udział po jednej instancji encji, a po drugiej wiele instancji
</td>
<td>
po obu stronach związku bierze udział wiele instancji encji
</td>
</tr>
</tbody>
</table>
<p>
Graficzna reprezentacja opcjonalności związku
</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;">
związek opcjonalny
</th>
<th style="text-align: center;">
związek obligatoryjny
</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">
<code>—————-o-</code>
</td>
<td style="text-align: center;">
<code>——————||-</code>
</td>
</tr>
<tr class="even">
<td style="text-align: center;">
można
</td>
<td style="text-align: center;">
wymaga
</td>
</tr>
</tbody>
</table>
<h3 id="jeden-do-jednego">
Jeden do jednego
</h3>
<p>
Klient MOŻE posiadać NIP, ale NIP WYMAGA klienta.
</p>
<h3 id="jeden-do-wielu">
Jeden do wielu
</h3>
<p>
Klient składa zamówienie - klient składa zamówienie (lub kilka zamówień), a zamówienie jest składane przez jednego klienta.
</p>
<h3 id="wiele-do-wielu">
Wiele do wielu
</h3>
<p>
Dostawca dostarcza towar - wiele dostawców dostarcza wiele towarów, wiele towarów jest dostarczanych przez wielu sprzedawców.
</p>
<h3 id="diagramy-chena">
Diagramy Chena
</h3>
<p>
Diagramy Chena pozwalaą w sposób graficzny przedstawić model projektu bazy danych i związków zachodzących pomiędzy encjami
</p>
<table>
<thead>
<tr class="header">
<th>
Kształt
</th>
<th>
Odpowiednik
</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>
prostokąt
</td>
<td>
encja
</td>
</tr>
<tr class="even">
<td>
koło
</td>
<td>
atrybut
</td>
</tr>
<tr class="odd">
<td>
romb
</td>
<td>
związek
</td>
</tr>
</tbody>
</table>
<h3 id="notacja-barkera-notacja-oracle">
Notacja Barkera (notacja Oracle)
</h3>
<p>
W notacji tej w odróżnieniu od notacji Martina związki wymagane oznacza się ciągłą linią związków, natomiast opcjonalne (nie wymagalne) - przerywaną.
</p>
<h3 id="diagram-venna">
Diagram Venna
</h3>
<p>
Zgodnie z założeniami Venna, encje reprezentowane sa przez owale, wewnątrz których znajdują się instancje.
</p>
<p>
Jeśli poprowadzimy poziome linie pomiędzy instancjami dwóch encji, zgodnie ze związkami zachodzącymi w rzeczywistości, w łatwy sposób możemy zilustrować liczebność i uczestnictwo w związku.
</p>
<figure>
<img src="./Lekcja_8_diagram.png" alt="Diagram do ćwiczenia" />
<figcaption>
Diagram do ćwiczenia
</figcaption>
</figure>
<p>
Bilet (id_biletu, miejsce, id_rezerwacji, id_lotu, cena, klasa)
</p>
<p>
Lot (cel_podrozy, data_wylotu, id_lotu, miejsce_wylotu, nr_samolotu, dlugosc_lotu, nr_pasa_wylot, nr_pasa_ladowanie)
</p>
<p>
Klient (imie, nazwisko, pesel, data_urodzenia, kraj, nr_paszportu, id_klienta)
</p>
<p>
Rezerwacja (id_rezerwacji, id_klienta, id_biletu, wartość)
</p>
<p>
Klient rezerwuje jedną (lub wiele) rezerwacji
</p>
<p>
Rezerwacja jest rezerwowana przez jednego klienta
</p>
<p>
Rezerwacja dotyczy jednego (lub wielu) biletu
</p>
<p>
Bilet dotyczy jednej rezerwacji.
</p>
<p>
Bilet dotyczy jednego lotu.
</p>
<p>
Jeden lot ma jeden lub wiele biletów.
</p>
<h2 id="zadanie-domowe">
Zadanie domowe
</h2>
<p>
System zamawiania pizzy
</p>
<p>
Pizza z konkretnymi składnikami
</p>
&lt;!DOCTYPE html&gt;
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.7.1">
<title>
Lekcja 10 - Normalizacja
</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Uncomment @import statement below to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote::before{display:none}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{word-spacing:0;line-height:1.6}
.quoteblock.abstract blockquote::before,.quoteblock.abstract p::before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd){background:#f8f8f7}
table.stripes-none tr,table.stripes-odd tr:nth-of-type(even){background:none}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article">
<div id="header">
<h1>
Lekcja 10 - Normalizacja
</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>
Normalizacja jest jednym z etapów projektowania schematu relacyjnej bazy danych.
</p>
</div>
<div class="paragraph">
<p>
Normalizacja jest procesem polegającym na weryfikowaniu i zgodności relacji z warunkami postaci normalnej i, w razie potrzeby, na dekompozycji tej relacji do mniejszych relacji spełniających te warunki.
</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_problemy_ze_złym_schematem">
Problemy ze złym schematem
</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>
redundancja - powtarzanie informacji
</p>
</li>
<li>
<p>
anomalia wstawiania
</p>
<div class="ulist">
<ul>
<li>
<p>
Nie można dodać nowego kursu, dopóki ktoś się na niego nie zapisze
</p>
</li>
</ul>
</div>
</li>
<li>
<p>
anomalia modyfikacji
</p>
<div class="ulist">
<ul>
<li>
<p>
zmiana adresu Karola Nowaka - wymaga modyfikacji wielu wierszy
</p>
</li>
<li>
<p>
grozi utratą spójności danych
</p>
</li>
</ul>
</div>
</li>
<li>
<p>
anomalia usuwania
</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_cel_normalizacji">
Cel normalizacji
</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>
Celem normalizacji jest wyeliminowanie <strong>redundancji</strong> i <strong>anomalii</strong>. Normalizacja polega na dekompozycji tabel aż do otrzymania pożądanej postaci. Zdefiniowano: 1, 2, 3, 4, 5, 6 postać normalną oraz postać normalną Boyce-Codda.
</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_proces_normalizacji">
Proces normalizacji
</h2>
<div class="sectionbody">
<div class="paragraph">
<p>
Proces normalizacji musi posiadać trzy dodatkowe własności: * Własnośc zachowania atrybutów - żaden atrybut nie zostanie zagubiony w trakcie procesu normalizacji. * Własność zachowania informacji - dekompozycja relacji nie prowadzi do utraty informacji. * Własność zachowania zależności - wszystkie zależności funkcyjne są reprezentowane w pojedynczych schematach relacji.
</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_pierwsza_postać_normalna_1nf">
Pierwsza postać normalna - 1NF
</h2>
<div class="sectionbody">
<div class="paragraph">
<p>
Schemat relacji R znajduje się w pierwszej postaci normalnej (1NF, 1PN), jeżeli wartości atrybutów są atomowe (niepodzielne). Schemat w 1NF posiada klucz podstawowy.
</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_zależność_funkcyjna">
Zależność funkcyjna
</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1">
Definicja
</dt>
<dd>
<p>
Niech U będzie skończonym zbiorem atrybutów. <strong>Zależnością funkcyjną</strong> nazywmy każdy napis o postaci X → Y. Mówimy wówczas, że:
</p>
<div class="ulist">
<ul>
<li>
<p>
Y zależy funkcyjnie od X lub, że
</p>
</li>
<li>
<p>
X wyznacza funkcyjnie Y.
</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_atrybuty_kluczowe_i_niekluczowe">
Atrybuty kluczowe i niekluczowe
</h2>
<div class="sectionbody">
<div class="paragraph">
<p>
Atrybuty należące do któregoś z kluczy (kandydujących) nazywamy <strong>atrybutami kluczowymi</strong>. Atrybuty, które nie należą do <strong>żadnego</strong> klucza nazywamy <strong>atrybutami niekluczowymi</strong>.
</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">
Important
</div>
</td>
<td class="content">
Podstawą normalizacji jest analiza zależności funkcyjnych między atrybutami kluczowymi a niekluczowymi, a także zależności między atrybutami niekluczowymi. Wynik tej analizy uwzględnia się w procesie normalizacji.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_druga_postać_normalna">
Druga postać normalna
</h2>
<div class="sectionbody">
<div class="paragraph">
<div class="title">
Pełna zależność funkcyjna
</div>
<p>
Niech X i Y będą rozłacznymi zbiorami atrybutów. Mówimy, że Y jest <strong>w pełni funkcyjnie zależny od X</strong> lub, <strong>że istnieje pełna zależnośc funkcyjna z X do Y</strong> i nie jest zależny od żadnego właściwego podzbioru zbioru X.
</p>
</div>
<div class="paragraph">
<div class="title">
Definicja drugiej postaci normalnej
</div>
<p>
Schemat relacyjny R = (U, F) jest w 2PN, jeśli każdy niekluczowy atrybut A ← U jest w pełni funkcyjnie zależny od każdego klucza tego schematu. Każdy schemat, którego klucz jest jednoelementowy jest w drugiej postaci normalnej.
</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2858%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top">
<p class="tableblock">
PESEL
</p>
</td>
<td class="tableblock halign-left valign-top">
<p class="tableblock">
Imię
</p>
</td>
<td class="tableblock halign-left valign-top">
<p class="tableblock">
Nazwisko
</p>
</td>
<td class="tableblock halign-left valign-top">
<p class="tableblock">
Miasto
</p>
</td>
<td class="tableblock halign-left valign-top">
<p class="tableblock">
Kurs
</p>
</td>
<td class="tableblock halign-left valign-top">
<p class="tableblock">
Data
</p>
</td>
<td class="tableblock halign-left valign-top">
<p class="tableblock">
Status
</p>
</td>
</tr>
</tbody>
</table>
<div class="ulist">
<ul>
<li>
<p>
Klucz podstawowy: {PESEL, Kurs, Data}
</p>
<div class="ulist">
<ul>
<li>
<p>
Atrybuty kluczowe: pesel, kurs, data
</p>
</li>
<li>
<p>
Atrybuty niekluczowe: imię, nazwisko, miasto, status
</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">
Pytanie
</div>
<p>
Czy wszystkie atrybuty niekluczowe w pełni funkcyjnie zależą od klucza podstawowego?
</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_przechodnie_zależności_funkcyjne">
Przechodnie zależności funkcyjne
</h2>
<div class="sectionbody">
<div class="paragraph">
<div class="title">
Definicja
</div>
<p>
Atrybut A jest przechodnio zależny od klucza K w schemacie relacyjnym R = (U, F), jeśli istnieje zbiór atrybutów nie będący kluczem i taki, że:
</p>
</div>
<div class="ulist">
<ul>
<li>
<p>
A nie jest podzbiorem X
</p>
</li>
<li>
<p>
X wyznacza A
</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_trzecia_postać_normalna_3nf">
Trzecia postać normalna (3NF)
</h2>
<div class="sectionbody">
<div class="paragraph">
<p>
Schemat jest w trzeciej postaci normalnej, jeżeli jest w drugiej postaci normalnej i żaden niekluczowy atrybut nie jest przechodnio zależny od żadnego klucza schematu.
</p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
<p>Last updated 2018-10-26 13:15:23 CEST</p>
</div>
</div>
</body>
</html>
</body>
</html>
